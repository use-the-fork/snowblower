# This file is automatically generated by SnowBlower.
# Do not edit this file directly as your changes will be overwritten.
# Instead, modify your flake.nix configuration to update Docker services.

x-use-manual-start: &use-manual-start
  profiles:
    - manual-start
  restart: "no"
x-use-auto-start: &use-auto-start
  profiles:
    - auto-start
  restart: "no"
x-use-runtime: &use-runtime
  depends_on: []
  image: localhost/snowblower/runtime:latest
  volumes:
    - .:/workspace
    - ${SB_PROJECT_PROFILE:-/tmp/snowblower/profile}:/snowblower/profile
  working_dir: /workspace
x-use-network: &use-network
  networks:
    - snownet


networks:
  snownet:
    driver: bridge
services:
  oxker:
    container_name: oxker
    image: ghcr.io/mrjackwills/oxker:latest
    <<:
    - *use-manual-start
    - *use-network
    volumes:
    - /var/run/docker.sock:/var/run/docker.sock:ro
  runtime:
    <<:
    - *use-auto-start
    - *use-runtime
    - *use-network
  tools:
    image: localhost/snowblower/tools:latest
    <<:
    - *use-auto-start
    - *use-network
    tty: true
    volumes:
    - .:/workspace
    - ${SB_PROJECT_PROFILE:-/tmp/snowblower/profile}:/snowblower/profile
    working_dir: /workspace
